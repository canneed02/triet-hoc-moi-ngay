/* ============================================
   CSS VARIABLES & THEME
   ============================================ */
:root { 
    --bg: #F5F5F0; 
    --text: #1A1A1A; 
    --text-light: #4A4A4A; 
    --text-muted: #8A8A8A; 
    --border: #E8E8E8; 
    --accent: #2D2D2D; 
    --selection-bg: #888888;
    --selection-text: #ffffff;
    --font-display: 'EB Garamond', 'Georgia', serif; 
    --font-body: 'EB Garamond', 'Georgia', serif; 
    --font-sans: 'Inter', -apple-system, sans-serif; 
    --space-xs: 8px; --space-sm: 16px; --space-md: 24px; --space-lg: 32px; --space-xl: 48px; --space-2xl: 64px; --space-3xl: 96px; 
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1); 
    --transition-fast: 0.2s var(--ease-smooth); 
    --transition-smooth: 0.4s var(--ease-smooth); 
}

[data-theme="dark"] { 
    --bg: #0A0A0A; 
    --text: #E0E0E0; 
    --text-light: #A0A0A0; 
    --text-muted: #555555; 
    --border: #1A1A1A; 
    --accent: #F0F0F0; 
    --selection-bg: #444444;
}

/* ============================================
   RESET & BASE
   ============================================ */
* { margin: 0; padding: 0; box-sizing: border-box; } 
html { scroll-behavior: smooth; }

/* NOISE TEXTURE - Tactile Feel */
body::before { 
    content: ''; 
    position: fixed; 
    top: 0; left: 0; 
    width: 100%; height: 100%; 
    pointer-events: none; 
    z-index: 9999; 
    opacity: 0.035; 
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAD7tU1gAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMA/1uRIrUAAAA2SURBVHicmc4xDQAgAMBAwcZ/52Ww4YFDm9An90g6F2HOfR1j2vX5L5K6j067/o80V68vAyQ5A/m/G4yHAAAAAElFTkSuQmCC");
    background-repeat: repeat;
    mix-blend-mode: overlay;
}

body { 
    font-family: var(--font-body); font-size: 18px; line-height: 1.75; 
    color: var(--text); background: var(--bg); min-height: 100vh; 
    transition: background-color 0.6s var(--ease-smooth), color 0.6s var(--ease-smooth); 
}

/* SCROLL PROGRESS */
.scroll-progress { position: fixed; top: 0; left: 0; width: 0%; height: 2px; background: var(--accent); opacity: 0.4; z-index: 10000; transition: width 0.1s linear; }

.container { max-width: 680px; margin: 0 auto; padding: var(--space-3xl) var(--space-md) var(--space-2xl); }

/* HEADER */
header { text-align: center; margin-bottom: var(--space-3xl); }
header h1 { 
    font-family: var(--font-display); 
    font-size: clamp(2rem, 5vw, 3.5rem); 
    font-weight: 400; 
    letter-spacing: -0.02em; 
    line-height: 1.2; 
    margin-bottom: 1rem;
    text-align: center !important;
}
/* DIỆT TẬN GỐC DROP CAP Ở HEADER */
header *::first-letter {
    font-size: inherit !important;
    float: none !important;
    margin: 0 !important;
    font-family: inherit !important;
}
.subtitle { 
    font-family: var(--font-sans); 
    color: var(--text-muted); 
    font-size: 0.85rem !important; 
    font-weight: 300; 
    letter-spacing: 0.25em !important; 
    text-transform: uppercase; 
    opacity: 0.6 !important;
    text-align: center !important;
    display: block !important;
    margin: 1rem auto !important;
}

/* NAV */
nav { display: flex; justify-content: center; gap: var(--space-xl); margin-bottom: var(--space-2xl); padding-bottom: var(--space-md); font-family: var(--font-sans); }
nav a { color: var(--text-muted); text-decoration: none; font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase; font-weight: 400; position: relative; transition: color var(--transition-fast); }
nav a::after { content: ''; position: absolute; width: 100%; transform: scaleX(0); height: 1px; bottom: -6px; left: 0; background-color: currentColor; transform-origin: right; transition: transform var(--transition-smooth); }
nav a:hover, nav a.active { color: var(--text); }
nav a:hover::after, nav a.active::after { transform: scaleX(1); transform-origin: left; }

/* THEME TOGGLE */
.theme-toggle { position: fixed; top: var(--space-md); right: var(--space-md); background: none; border: none; color: var(--text-muted); padding: var(--space-xs) var(--space-sm); font-family: var(--font-sans); font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; cursor: pointer; opacity: 0.5; transition: opacity var(--transition-fast), transform var(--transition-smooth); z-index: 100; }
.theme-toggle:hover { opacity: 1; }

/* TYPOGRAPHY */
h1 { font-family: var(--font-display); font-size: clamp(1.8rem, 4vw, 2.5rem); font-weight: 400; line-height: 1.2; margin-bottom: var(--space-xs); letter-spacing: -0.02em; }
.meta { display: flex; align-items: center; gap: var(--space-sm); margin-bottom: var(--space-xl); }
.date { font-family: var(--font-sans); color: var(--text-muted); font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; font-weight: 300; opacity: 0.6; }

/* ARTICLE LIST */
article { margin-bottom: var(--space-2xl); padding-bottom: var(--space-xl); border-bottom: 1px solid var(--border); }
article:last-child { border-bottom: none; }
article h2 { font-family: var(--font-display); font-size: 1.5rem; font-weight: 400; line-height: 1.35; margin-bottom: var(--space-xs); }
article h2 a { color: var(--text); text-decoration: none; position: relative; }
article h2 a:hover { opacity: 0.7; }

/* POST LIST ANIMATION */
.post-list article, 
.post-list .post-preview { 
    animation: fadeIn 1s var(--ease-smooth); 
    animation-fill-mode: both; 
    margin-bottom: var(--space-2xl);
    padding-bottom: var(--space-xl);
    border-bottom: 1px solid var(--border);
}
.post-list article:last-child,
.post-list .post-preview:last-child { 
    border-bottom: none; 
    margin-bottom: 0;
}
@keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* PARAGRAPHS */
p { margin-bottom: var(--space-md); text-align: justify; font-size: 1.1rem; color: var(--text-light); line-height: 1.85; orphans: 3; widows: 3; }

/* ============================================
   LINKS - Minimalist Reset (AGGRESSIVE)
   ============================================ */
a { 
    text-decoration: none !important; 
    color: inherit !important; 
    transition: opacity 0.3s ease;
}
a:hover { 
    opacity: 0.7; 
}

/* Tiêu diệt màu tím và gạch chân */
h1 a, h2 a, h3 a, .post-preview a, .post-list a {
    text-decoration: none !important;
    color: var(--text) !important;
    border-bottom: none !important;
}

/* Khóa trạng thái đã truy cập */
h1 a:visited, h2 a:visited, h3 a:visited, .post-preview a:visited, .post-list a:visited {
    color: var(--text) !important;
}

/* Hiệu ứng Hover sang trọng */
h1 a:hover, h2 a:hover, h3 a:hover, .post-preview a:hover, .post-list a:hover {
    opacity: 0.6 !important;
    text-decoration: none !important;
}

/* Khoảng cách bài viết */
.post-preview {
    margin-bottom: 4rem !important;
    padding-bottom: 2rem !important;
    border-bottom: 1px solid var(--border);
}
.post-preview:last-child {
    border-bottom: none;
}

/* POST PREVIEW / EXCERPT - NO DROP CAP */
   ============================================ */
.post-preview p, 
.excerpt,
.post-preview p::first-letter {
    font-size: 1rem !important;
    font-weight: normal !important;
    float: none !important;
    margin: 0 !important;
    color: var(--text-light);
    line-height: 1.7;
}

/* ============================================
   POST CONTENT - DROP CAP ONLY HERE
   ============================================ */
.post-content {
    max-width: 65ch;
    margin: 0 auto;
    font-variant-numeric: oldstyle-nums;
    text-rendering: optimizeLegibility;
}

/* DROP CAP - ONLY in .post-content */
.post-content > p:first-of-type::first-letter {
    font-family: var(--font-display);
    font-size: 4.5em;
    float: left;
    line-height: 0.75;
    margin-right: 0.12em;
    margin-top: 0.1em;
    font-weight: 400;
}

.post-content p {
    line-height: 1.75;
    margin-bottom: 2rem;
}

/* BACK LINK */
.back { display: inline-block; margin-bottom: var(--space-xl); color: var(--text-muted); text-decoration: none; font-family: var(--font-sans); font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; font-weight: 400; opacity: 0.6; }
.back:hover { opacity: 1; }

/* BLOCKQUOTE */
blockquote { border-left: 2px solid var(--accent); padding-left: var(--space-md); margin: var(--space-lg) 0; font-style: italic; color: var(--text-light); opacity: 0.85; }

/* ============================================
   FOOTER - TINY, CLEAN, NO DROP CAP
   ============================================ */
footer { 
    margin-top: var(--space-3xl); 
    padding-top: var(--space-lg); 
    text-align: center; 
    font-family: var(--font-sans); 
    font-size: 0.8rem; 
    font-weight: 300; 
    color: var(--text-muted); 
    letter-spacing: 0.15em; 
    text-transform: uppercase; 
    opacity: 0.6; 
}

footer p { 
    margin-top: var(--space-xs); 
    font-size: inherit; 
    font-weight: inherit; 
}

/* FORCE RESET DROP CAP FOR FOOTER */
footer *, 
footer p::first-letter,
footer::first-letter {
    font-size: inherit !important;
    font-weight: inherit !important;
    float: none !important;
    margin: 0 !important;
    color: inherit !important;
}

/* SELECTION */
::selection { background: var(--selection-bg); color: var(--selection-text); }

/* ============================================
   MOBILE
   ============================================ */
@media (max-width: 600px) { 
    .container { padding: var(--space-2xl) var(--space-sm) var(--space-xl); } 
    .post-content > p:first-of-type::first-letter { font-size: 3.5em; } 
    .post-content { max-width: 100%; } 
    nav { gap: var(--space-md); } 
}


/* Admin Link in Footer */
.admin-link {
    opacity: 0.3;
    font-size: 0.7rem;
    transition: opacity 0.3s;
    text-decoration: none;
}
.admin-link:hover {
    opacity: 1;
}
